<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sample Page - Gremllm Test</title>
</head>
<body>
    <nav>
        <ul>
            <li><a href="/">Home</a></li>
            <li><a href="/about">About</a></li>
            <li><a href="/contact">Contact</a></li>
        </ul>
    </nav>

    <header>
        <h1>Welcome to the Gremllm Test Site</h1>
    </header>

    <main>
        <article>
            <h2>Introduction</h2>
            <p>This is a sample HTML page designed to test the Gremllm middleware. The middleware serves content in two ways:</p>

            <ul>
                <li><strong>As HTML</strong>: When you visit <code>/index.html</code></li>
                <li><strong>As optimized content</strong>: When you visit <code>/index.html?gremllm</code></li>
            </ul>

            <h3>Features</h3>
            <p>The Gremllm project aims to provide:</p>
            <ol>
                <li>Token-optimized content for LLMs (50-80% reduction)</li>
                <li>Semantic preservation of meaning</li>
                <li>Framework-agnostic middleware</li>
                <li>Easy adoption for site owners</li>
            </ol>

            <h3>Interactive Widget Examples</h3>
            <p>The scripts below will be replaced with their descriptions for LLMs:</p>

            <h4>Live Clock</h4>
            <div data-llm="drop" style="display: flex; align-items: center; gap: 20px; margin: 20px 0;">
                <div id="clock" style="position: relative; width: 150px; height: 150px; border: 3px solid #333; border-radius: 50%; background: #f5f5f5;">
                    <div id="hour-hand" style="position: absolute; bottom: 50%; left: 50%; width: 4px; height: 35px; background: #333; transform-origin: bottom center; margin-left: -2px;"></div>
                    <div id="minute-hand" style="position: absolute; bottom: 50%; left: 50%; width: 3px; height: 50px; background: #666; transform-origin: bottom center; margin-left: -1.5px;"></div>
                    <div id="second-hand" style="position: absolute; bottom: 50%; left: 50%; width: 1px; height: 55px; background: #e74c3c; transform-origin: bottom center;"></div>
                    <div style="position: absolute; top: 50%; left: 50%; width: 10px; height: 10px; background: #333; border-radius: 50%; margin: -5px 0 0 -5px;"></div>
                </div>
                <div id="digital-clock" style="font-family: monospace; font-size: 2em;"></div>
            </div>
            <script data-llm-description="Live analog clock: displays current time with rotating hour, minute, and second hands. Updates every second. Also shows digital time.">
                function updateClock() {
                    var now = new Date();
                    var seconds = now.getSeconds();
                    var minutes = now.getMinutes();
                    var hours = now.getHours() % 12;

                    var secondDeg = seconds * 6;
                    var minuteDeg = minutes * 6 + seconds * 0.1;
                    var hourDeg = hours * 30 + minutes * 0.5;

                    document.getElementById('second-hand').style.transform = 'rotate(' + secondDeg + 'deg)';
                    document.getElementById('minute-hand').style.transform = 'rotate(' + minuteDeg + 'deg)';
                    document.getElementById('hour-hand').style.transform = 'rotate(' + hourDeg + 'deg)';

                    var h = now.getHours().toString().padStart(2, '0');
                    var m = now.getMinutes().toString().padStart(2, '0');
                    var s = now.getSeconds().toString().padStart(2, '0');
                    document.getElementById('digital-clock').textContent = h + ':' + m + ':' + s;
                }
                setInterval(updateClock, 1000);
                updateClock();
            </script>

            <h4>Calculator</h4>
            <div data-llm="drop" style="background: #f5f5f5; padding: 15px; border-radius: 8px; margin: 20px 0; max-width: 300px;">
                <div style="display: flex; gap: 10px; margin-bottom: 10px;">
                    <input type="number" id="num1" value="10" style="width: 80px; padding: 8px; font-size: 16px;">
                    <select id="operation" style="padding: 8px; font-size: 16px;">
                        <option value="+">+</option>
                        <option value="-">−</option>
                        <option value="*">×</option>
                        <option value="/">÷</option>
                    </select>
                    <input type="number" id="num2" value="5" style="width: 80px; padding: 8px; font-size: 16px;">
                </div>
                <button id="calc-btn" style="padding: 10px 20px; font-size: 16px; cursor: pointer;">Calculate</button>
                <span style="margin-left: 15px; font-size: 1.2em;">Result: <strong id="result">—</strong></span>
            </div>
            <script data-llm-description="Calculator widget: users enter two numbers, select an operation (add, subtract, multiply, divide), and click Calculate to see the result">
                document.getElementById('calc-btn').onclick = function() {
                    var a = parseFloat(document.getElementById('num1').value);
                    var b = parseFloat(document.getElementById('num2').value);
                    var op = document.getElementById('operation').value;
                    var result;
                    switch(op) {
                        case '+': result = a + b; break;
                        case '-': result = a - b; break;
                        case '*': result = a * b; break;
                        case '/': result = a / b; break;
                    }
                    document.getElementById('result').textContent = result;
                };
            </script>

            <h3>Image Example</h3>
            <p>This image will be replaced with its alt text:</p>
            <img src="diagram.png" alt="Architecture diagram showing HTML flowing through Gremllm middleware to produce LLM-optimized output">

            <h3>Code Example</h3>
            <pre><code>func Convert(html string) string {
    // Convert HTML to LLM-optimized content
    return optimized
}</code></pre>
        </article>

        <aside>
            <h4>Newsletter Signup</h4>
            <p>Subscribe to our newsletter for updates!</p>
            <form>
                <input type="email" placeholder="your@email.com" />
                <button type="submit">Subscribe</button>
            </form>
        </aside>
    </main>

    <footer>
        <p>&copy; 2024 Gremllm Project. All rights reserved.</p>
        <p>Contact: hello@example.com</p>
    </footer>

    <script>
        console.log('This is client-side JavaScript that LLMs cannot execute');
    </script>
</body>
</html>
